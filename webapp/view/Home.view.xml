<mvc:View
    controllerName="com.sut.bolgeyonetim.controller.Home"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core">
    <Page title="Depo Yönetimi Uygulaması" showNavButton="false">
        <customHeader>
            <Toolbar>
                <DatePicker
                    id="idDateFilter"
                    value="{filterModel>/selectedDate}"
                    displayFormat="dd.MM.yyyy"
                    valueFormat="yyyy-MM-dd"
                    change="onDateChange"
                    placeholder="Tarih"
                    width="10rem"
                    class="sapUiTinyMarginEnd"/>
                <ToolbarSpacer/>
                <HBox alignItems="Center" class="sapUiMediumMarginEnd">
                    <core:Icon 
                        src="sap-icon://person-placeholder" 
                        size="1.5rem"
                        color="#0854A0"
                        class="sapUiSmallMarginEnd"/>
                    <Label 
                        text="{sessionModel>/Login/DisplayName}"
                        class="sapUiSmallMarginEnd"/>
                    <Label 
                        text="({sessionModel>/Login/WarehouseNum} - {sessionModel>/Login/Warehouse})"/>
                </HBox>
            </Toolbar>
        </customHeader>
        <content>
            <!-- Unified Dashboard Tiles with Grid Layout for Tablet Responsiveness -->
            <l:Grid
                defaultSpan="XL6 L6 M6 S12"
                hSpacing="1"
                vSpacing="1"
                containerQuery="true"
                class="sapUiSmallMarginTop sapUiSmallMargin">
                
                <!-- Tile 1: Mal Kabul (Goods Receipt) -->
                <GenericTile
                    class="sapUiTinyMarginBottom"
                    frameType="TwoByOne"
                    header="Mal Kabul"
                    subheader="Gelen ürünlerin kontrolü ve onayı"
                    press="onGoodsReceiptPress">
                    <TileContent footer="Bekleyen Tır">
                        <NumericContent
                            value="{dashboardData>/pendingReceipts}"
                            valueColor="{dashboardData>/pendingReceiptsColor}"
                            indicator="{dashboardData>/pendingReceiptsIndicator}"
                            icon="sap-icon://shipping-status"
                            truncateValueTo="4"
                            withMargin="false"
                            animateTextChange="true"/>
                    </TileContent>
                </GenericTile>

                <!-- Tile 2: Yükleme Formu Ataması (Assignment) -->
                <GenericTile
                    class="sapUiTinyMarginBottom"
                    frameType="TwoByOne"
                    header="Yükleme Formu Ataması"
                    subheader="Araçlara yükleme formu atama"
                    press="onShipmentAssignmentPress">
                    <TileContent footer="Yükleme Formu">
                        <NumericContent
                            value="{dashboardData>/pendingShipments}"
                            valueColor="{dashboardData>/pendingShipmentsColor}"
                            indicator="{dashboardData>/pendingShipmentsIndicator}"
                            icon="sap-icon://document"
                            truncateValueTo="4"
                            withMargin="false"
                            animateTextChange="true"/>
                    </TileContent>
                </GenericTile>

                <!-- Tile 3: Araç Yükleme (Loading) -->
                <GenericTile
                    class="sapUiTinyMarginBottom"
                    frameType="TwoByOne"
                    header="Araç Yükleme"
                    subheader="Ürünlerin araçlara yüklenmesi"
                    press="onGoodsIssuePress">
                    <TileContent footer="Bekleyen Nakliye">
                        <NumericContent
                            value="{dashboardData>/pendingDeliveries}"
                            valueColor="{dashboardData>/pendingDeliveriesColor}"
                            indicator="{dashboardData>/pendingDeliveriesIndicator}"
                            icon="sap-icon://cargo-train"
                            truncateValueTo="4"
                            withMargin="false"
                            animateTextChange="true"/>
                    </TileContent>
                </GenericTile>

                <!-- Tile 4: Stok Sayım (Hidden) -->
                <GenericTile
                    visible="true"
                    class="sapUiTinyMarginBottom"
                    frameType="TwoByOne"
                    header="Stok Sayım"
                    subheader="Depo stok sayımı ve takibi"
                    press="onInventoryCountPress">
                    <TileContent footer="Stok Sayım">
                        <NumericContent
                            value="{dashboardData>/pendingCounts}"
                            valueColor="{dashboardData>/pendingCountsColor}"
                            indicator="{dashboardData>/pendingCountsIndicator}"
                            icon="sap-icon://inventory"
                            truncateValueTo="4"
                            withMargin="false"
                            animateTextChange="true"/>
                    </TileContent>
                </GenericTile>
            </l:Grid>
        </content>
    </Page>
</mvc:View>