<mvc:View
    controllerName="com.sut.bolgeyonetim.controller.Home"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <Page title="Depo Yönetimi Uygulaması" showNavButton="false">
        <customHeader>
            <Toolbar>
                <DatePicker
                    id="idDateFilter"
                    value="{filterModel>/selectedDate}"
                    displayFormat="dd.MM.yyyy"
                    valueFormat="yyyy-MM-dd"
                    change="onDateChange"
                    placeholder="Tarih"
                    width="10rem"
                    class="sapUiTinyMarginEnd"/>
                <ToolbarSpacer/>
                <HBox alignItems="Center" class="sapUiMediumMarginEnd">
                    <core:Icon 
                        src="sap-icon://person-placeholder" 
                        size="1.5rem"
                        color="#0854A0"
                        class="sapUiSmallMarginEnd"/>
                    <Label 
                        text="{sessionModel>/Login/DisplayName}"
                        class="sapUiSmallMarginEnd"/>
                    <Label 
                        text="({sessionModel>/Login/WarehouseNum} - {sessionModel>/Login/Warehouse})"/>
                </HBox>
            </Toolbar>
        </customHeader>
        <content>
            <FlexBox
                alignItems="Start"
                justifyContent="Start"
                wrap="Wrap"
                class="sapUiMediumMargin tileContainer"> 
                <!-- Main Tiles -->
                <GenericTile
                    class="sapUiTinyMarginBegin sapUiTinyMarginTop mainTile"
                    frameType="TwoByOne"
                    header="Mal Kabul"
                    subheader="Gelen ürünlerin kontrolü ve onayı"
                    press="onGoodsReceiptPress">
                    <TileContent>
                        <ImageContent src="sap-icon://accept"/>
                    </TileContent>
                </GenericTile>

                <GenericTile
                    class="sapUiTinyMarginBegin sapUiTinyMarginTop mainTile"
                    frameType="TwoByOne"
                    header="Yükleme Formu Ataması"
                    subheader="Araçlara yükleme formu atama"
                    press="onShipmentAssignmentPress">
                    <TileContent>
                        <ImageContent src="sap-icon://document"/>
                    </TileContent>
                </GenericTile>

                <GenericTile
                    class="sapUiTinyMarginBegin sapUiTinyMarginTop mainTile"
                    frameType="TwoByOne"
                    header="Araç Yükleme"
                    subheader="Ürünlerin araçlara yüklenmesi"
                    press="onGoodsIssuePress">
                    <TileContent>
                        <ImageContent src="sap-icon://shipping-status"/>
                    </TileContent>
                </GenericTile>

                <GenericTile visible="false"
                    class="sapUiTinyMarginBegin sapUiTinyMarginTop mainTile"
                    frameType="TwoByOne"
                    header="Stok Sayım"
                    subheader="Depo stok sayımı ve takibi"
                    press="onInventoryCountPress">
                    <TileContent>
                        <ImageContent src="sap-icon://inventory"/>
                    </TileContent>
                </GenericTile>
            </FlexBox>

            <!-- Status Tiles (FlexBox with GenericTiles) -->
            <FlexBox
                alignItems="Start"
                justifyContent="Start"
                wrap="Wrap"
                class="sapUiMediumMargin statusContainer">

                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop statusTile" 
                scope="Display"
                header="Bekleyen Tır">
                    <TileContent>
                        <NumericContent
                            value="{dashboardData>/pendingReceipts}" 
                            valueColor="{dashboardData>/pendingReceiptsColor}" 
                            indicator="{dashboardData>/pendingReceiptsIndicator}"
                            icon="sap-icon://shipping-status"
                            withMargin="false"
                            animateTextChange="true"/>
                    </TileContent>
                </GenericTile>

                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop statusTile"
                header="Yükleme Formu">
                    <TileContent>
                        <NumericContent
                            value="{dashboardData>/pendingShipments}" 
                            valueColor="{dashboardData>/pendingShipmentsColor}" 
                            indicator="{dashboardData>/pendingShipmentsIndicator}"
                            icon="sap-icon://document"
                            withMargin="false"
                            animateTextChange="true"/>
                    </TileContent>
                </GenericTile>

                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop statusTile"
                header="Bekleyen Nakliye">
                    <TileContent>
                        <NumericContent
                            value="{dashboardData>/pendingDeliveries}" 
                            valueColor="{dashboardData>/pendingDeliveriesColor}" 
                            indicator="{dashboardData>/pendingDeliveriesIndicator}"
                            icon="sap-icon://cargo-train"
                            withMargin="false"
                            animateTextChange="true"/>
                    </TileContent>
                </GenericTile>

                <GenericTile visible="false" class="sapUiTinyMarginBegin sapUiTinyMarginTop statusTile"
                header="Stok Sayım">
                    <TileContent>
                        <NumericContent
                            value="{dashboardData>/pendingCounts}" 
                            valueColor="{dashboardData>/pendingCountsColor}" 
                            indicator="{dashboardData>/pendingCountsIndicator}"
                            icon="sap-icon://inventory"
                            withMargin="false"
                            animateTextChange="true"/>
                    </TileContent>
                </GenericTile>
            </FlexBox>
        </content>
    </Page>
</mvc:View>