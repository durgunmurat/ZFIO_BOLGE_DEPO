<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <Dialog
        title="Fotoğraf Yönetimi"
        contentWidth="600px"
        contentHeight="500px"
        resizable="true"
        draggable="true"
        afterClose="onClosePhotoDialog">
        <content>
            <UploadCollection 
            numberOfAttachmentsText="{= ${photoModel>/photoCount} + ' / 5 Fotoğraf Yüklendi' }"
                id="idPhotoUploadCollection"
                instantUpload="true"
                uploadUrl="/sap/opu/odata/sap/ZMM_BOLGE_DEPO_YONETIM_SRV/PlatePhotoSet"
                fileType="jpg,png,jpeg"
                maximumFilenameLength="55"
                maximumFileSize="5"
                multiple="false"
                uploadEnabled="{= ${photoModel>/photoCount} &lt; 5 }"
                mode="SingleSelectMaster"
                beforeUploadStarts="onBeforeUploadStarts"
                uploadComplete="onUploadComplete"
                uploadTerminated="onUploadTerminated"
                fileDeleted="onFileDeleted"
                change="onFileChange"
                selectionChange="onFilePress"
                items="{photoModel>/photos}">
                <items>
                    <UploadCollectionItem
                        documentId="{photoModel>PhotoId}"
                        fileName="{photoModel>FileName}"
                        mimeType="{photoModel>MimeType}"
                        thumbnailUrl="/sap/opu/odata/sap/ZMM_BOLGE_DEPO_YONETIM_SRV/PlatePhotoSet('{photoModel>PhotoId}')/$value"
                        enableEdit="false"
                        enableDelete="true"
                        visibleEdit="false"
                        visibleDelete="true">
                    </UploadCollectionItem>
                </items>
            </UploadCollection>
        </content>
        <beginButton>
            <Button
                text="Kapat"
                press="onClosePhotoDialog"/>
        </beginButton>
    </Dialog>
</core:FragmentDefinition>
